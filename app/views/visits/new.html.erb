<div class="well well-lg">
  <%= form_for @visit, class: "visit_form" do |f| %>
    <% if params[:patient] || @patient %>
    <div class="card" style="text-align:center; border-color:#B00713;">
      <div class="card-block">
        <h1 class="purple">New Visit for <%= "#{@patient.first_name} #{@patient.last_name}" %></h1>
      </div>
    </div>
    <hr />
    <div class="card" style="text-align:center; border-color:#3B144A;">
      <div class="card-block">
        <div class="form-group">
          <div class="row flex-items-xs-center">
            <%= f.hidden_field :patient_id, value: @patient.id %>
    <% else %>
    <div class="container center-block">
      <h1 class="h1">New Visit</h1>
    </div>
    <hr />
    <div class="form-group">
      <div class="row flex-items-xs-center">
        <div class="col-xs-4 col-xs-offset-4">
          <%= f.label :patient_id, "Patient ID:", class: "form-check-label" %><br />
          <%= f.number_field :patient_id, autofocus: true, in: 1..99999999, step: 1, class: "form-control form-control-lg" %>
          <%= f.label :clinician_id, "Clinician ID:", class: "sr-only" %><br />
    <% end %>
          <h4 style="text-align: center;" class="red">Clinician Information:</h3>
          <hr />
          <div class="col-xs-1">
            <%= f.number_field :clinician_id, in: 1..9999, step: 1, class: "form-control form-control-lg disabled", value: 1, aria: { deacribedby: "cIDHelpBlock" } %>
            <small id="cIDHelpBlock" class="purple form-text text-muted">
              1: Liang
            </small>
          </div>
          <div class="col-xs-2" style="min-height:32px;">
            <%= render 'layouts/col_2_OR_buttons' %>
          </div>
          <div class="col-xs-2">
            <%= button_to "New Clinician", new_clinician_path, method: "get", class: "btn btn-block btn-primary disabled" %>
          </div>
          <div class="col-xs-2" style="min-height:32px;">
            <%= render 'layouts/col_2_OR_buttons' %>
          </div>

          <div class="col-xs-5">
            <%= form_tag "/clinicians", method: "get", id: "search-form" do %>
              <div class="input-group">
                <%= text_field_tag :search, params[:search], placeholder:  "ex: Dietz', 'Milewicz'", class: "form-control form-control-lg"%>
                <span class="input-group-btn">
                  <%= button_to "Search Clinicians", clinicians_path, class: "btn btn-primary disabled", method: "get", id: "search", type: "button" %>
                </span>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
    <hr />
    <div class="row">
      <div class="form-group">
        <div class="form-check">
          <div class="col-xs col-md-6">
            <%= f.label "How are you feeling today?", class: "form-check-label" %><br />
            <dl>
              <div class="container">
                <label class="form-check-label radio-inline", value="Poor" >
                  <dt class="col-sm-1"><%= f.radio_button :general_health, "Poor", class: "form-check-input", onclick: "renderPartialOne();" %></dt>
                  <dd class="col-sm-11", value="Poor">Poor</dd>
                </label>
              </div>
              <div class="container">
                <label class="form-check-label radio-inline", value="Fair" >
                  <dt class="col-sm-1"><%= f.radio_button :general_health, "Fair", class: "form-check-input", onclick: "renderPartialOne();" %></dt>
                  <dd class="col-sm-11", value="Fair">Fair</dd>
                </label>
              </div>
              <div class="container">
                <label class="form-check-label radio-inline", value="Good" >
                  <dt class="col-sm-1"><%= f.radio_button :general_health, "Good", class: "form-check-input", onclick: "renderPartialOne();" %></dt>
                  <dd class="col-sm-11", value="Good">Good</dd>
                </label>
              </div>
              <div class="container">
                <label class="form-check-label radio-inline", value="Excellent" >
                  <dt class="col-sm-1"><%= f.radio_button :general_health, "Excellent", class: "form-check-input", onclick: "renderPartialOne();" %></dt>
                  <dd class="col-sm-11", value="Excellent">Excellent</dd>
                </label>
              </div>
            </dl>
          </div>
          <div class="col-xs col-md-6">
            <div id="general-health-response"></div>
          </div>
        </div>
      </div>
    </div>
    <div id="add-another"></div>
    <div class="row">
      <div class="col-xs-12 col-centered">
        <br /><hr />
        <span id="start-button">
        <%= f.submit "Start New Visit", class: "col-centered col-xs-12 control-label btn btn-success btn-lg" %>
        </span>
      </div>
    </div>
    <script>
      function renderPartialOne() {
        $('#general-health-response').html('<%= j render "reason_for_visit", f: f %>')
      }
    </script>

  <% end %>
</div>
<div id="absolute_bottom"></div>
