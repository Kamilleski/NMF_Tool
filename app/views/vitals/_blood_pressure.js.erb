$('#visit_vitals_attributes_<%= sbp.id %>_measurement').keyboard({
  openOn : null,
  stayOpen : true,
  layout : 'num',
  position : {
    // null (attach to input/textarea) or a jQuery object (attach elsewhere)
    of : null,
    my : 'center top',
    at : 'center top',
    // at2 is used when "usePreview" is false (centers keyboard at the bottom
    // of the input/textarea)
    at2: 'center top',
    collision: 'flipfit flipfit'
  },
  reposition : true,
  css: {
    input: 'form-control input-sm',
    container: 'center-block dropdown-menu',
    buttonDefault: 'btn btn-default',
    buttonHover: 'btn-primary',
    // used when disabling the decimal button {dec}
    // when a decimal exists in the input area
    buttonDisabled: 'enabled'
  }
  });
$('#calc_button_<%= sbp.id %>').click(function(){
  var kb = $('#visit_vitals_attributes_<%= sbp.id %>_measurement').getkeyboard();
  // close the keyboard if the keyboard is visible and the button is clicked a second time
  if ( kb.isOpen ) {
    kb.close();
  } else {
    kb.reveal();
  }
});
$('#visit_vitals_attributes_<%= dbp.id %>_measurement').keyboard({
  openOn : null,
  stayOpen : true,
  layout : 'num',
  position : {
    // null (attach to input/textarea) or a jQuery object (attach elsewhere)
    of : null,
    my : 'center top',
    at : 'center top',
    // at2 is used when "usePreview" is false (centers keyboard at the bottom
    // of the input/textarea)
    at2: 'center top',
    collision: 'flipfit flipfit'
  },
  reposition : true,
  css: {
    input: 'form-control input-sm',
    container: 'center-block dropdown-menu',
    buttonDefault: 'btn btn-default',
    buttonHover: 'btn-primary',
    // used when disabling the decimal button {dec}
    // when a decimal exists in the input area
    buttonDisabled: 'enabled'
  }
  });
$('#calc_button_<%= dbp.id %>').click(function(){
  var kb = $('#visit_vitals_attributes_<%= dbp.id %>_measurement').getkeyboard();
  // close the keyboard if the keyboard is visible and the button is clicked a second time
  if ( kb.isOpen ) {
    kb.close();
  } else {
    kb.reveal();
  }
});
