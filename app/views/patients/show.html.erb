<div class="row">
  <div class="col-sm-12 col-centered">
    <h1><%= "#{@patient.first_name} #{@patient.last_name}" %></h1>
    <hr>
  </div>
</div>
<div class="row">
  <div class="col-sm-12 col-centered">
    <div class="form-inline">
      <form class='button_to' method='post' action='/visits'>
        <input type="hidden" id="visit_patient_id" name="visit[patient_id]" value="<%= @patient.id %>"/>
        <input type="hidden" id="visit_clinician_id" name="visit[clinician_id]" value="1"/>
        <button class='btn btn-success' type='submit'>
          New Visit
        </button>
      </form>
      <%= link_to "Edit Patient", edit_patient_path(id: @patient.id), type: "button", method: :get, class: "btn btn-secondary" %>
      <%= link_to "Destroy Records", patient_path(id: @patient.id), method: :delete, type: "button", class: "btn btn-secondary", data: { confirm: "Are you sure you want to delete Patient #{@patient.id} and all associated records?" } %>
    </div>
    <br /><br />
    <%= render 'patients/show',family_members: FamilyMember.where(patient_id: @patient.id).where(visit_id: nil), vitals: Vital.where(patient_id: @patient.id).where(visit_id: nil), imagery: Test.where(patient_id: @patient.id), tests: Test.where(patient_id: @patient.id).where(visit_id: nil), hospitalizations: Hospitalization.where(patient_id: @patient.id).where(visit_id: nil), medications: Medication.where(patient_id: @patient.id), diagnoses: Diagnosis.where(patient_id: @patient.id).where(visit_id: nil), procedures: Procedure.where(patient_id: @patient.id).where(visit_id: nil) %>
